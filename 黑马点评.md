黑马点评是一个以学习 Redis 为核心的实战项目，模拟类似大众点评的应用场景，涵盖了用户登录、商户查询、优惠券秒杀、探店笔记、好友关注、签到、UV统计等多个功能模块。该项目采用前后端分离架构，前端部署在 Nginx 上，后端基于 Spring Boot，使用 MyBatis-Plus、Redis 等技术栈。

# 1. 项目架构与技术栈

- **架构模式**：前后端分离的单体应用。

- **后端技术**：

    - Spring Boot：快速构建项目框架。
    - MyBatis-Plus：简化数据库操作。
    - Redis：实现缓存、分布式锁、消息队列等功能。
    - Lombok、Hutool：提升开发效率。
    - Kafka：优化秒杀场景下的异步处理。

- **前端技术**：Vue.js，部署在 Nginx 上。

# 2. 核心功能模块

### 1. 用户登录与验证码验证

- 用户通过手机号接收验证码进行登录。
- 验证码存储在 Redis 中，设置过期时间。
- 登录成功后，生成 Token 并将用户信息存储在 Redis 中，实现会话管理。

### 2. 商户查询与缓存优化

- 商户信息缓存至 Redis，提升查询性能。
- 采用缓存穿透、缓存击穿、缓存雪崩等问题的解决策略，如缓存空对象、互斥锁、逻辑过期等。

### 3. 优惠券秒杀系统

- 实现全局唯一 ID 生成器，避免订单重复。
- 使用 Redis 实现库存预减，防止超卖。
- 引入分布式锁（如 Redisson）确保并发安全。
- 通过消息队列（如 RabbitMQ）异步处理订单，提升系统吞吐量。

### 4. 探店笔记与点赞功能

- 用户可以发布探店笔记，记录消费体验。
- 实现点赞功能，使用 Redis 的 Set 结构存储点赞用户，防止重复点赞。
- 基于 Sorted Set 实现点赞排行榜，展示热门笔记。

### 5. 好友关注与 Feed 流

- 用户可以关注其他用户，形成社交关系。
- 实现共同关注、取消关注等功能。
- 通过 Redis 的 List 或 Sorted Set 实现 Feed 流，推送关注用户的最新动态。

### 6. 附近商户查询

- 利用 Redis 的 GEO 数据结构存储商户地理位置。
- 实现基于地理位置的附近商户查询功能。

### 7. 用户签到与 UV 统计

- 使用 Redis 的 BitMap 实现用户签到功能，支持连续签到统计。
- 通过 HyperLogLog 实现 UV（独立访客）统计，节省内存空间。

# 3. 项目亮点与优化

- **缓存策略**：全面处理缓存穿透、击穿、雪崩等问题，提升系统稳定性。
- **高并发处理**：在秒杀场景下，结合分布式锁、消息队列等技术，确保系统在高并发下的性能和数据一致性。
- **限流机制**：使用 Redis 实现滑动窗口限流，防止恶意请求。
- **异步处理**：通过消息队列异步处理耗时操作，提升用户体验。