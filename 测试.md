# 1. 概述

Java 中的测试主要分为以下几类：

- **单元测试（Unit Testing）**：针对最小功能单元（通常是方法）的测试，确保其在各种输入下都能产生预期输出。
- **集成测试（Integration Testing）**：验证多个模块或组件协同工作时的正确性。
- **系统测试（System Testing）**：从整体上验证系统是否满足需求规格。
- **验收测试（Acceptance Testing）**：确认系统是否符合业务需求，通常由最终用户进行。 

此外，还有按测试方式划分的：

- **黑盒测试**：关注输入和输出，不考虑内部实现。
- **白盒测试**：关注代码的内部结构和逻辑路径。

# 2. JUnit

JUnit 是一个开源的 Java 单元测试框架，最初由 Kent Beck 和 Erich Gamma 创建，属于 xUnit 测试框架家族。它允许开发者为 Java 方法编写自动化测试代码，以验证其功能是否符合预期。JUnit 的设计理念强调简单性、可重复性和自动化，适用于从简单的单元测试到复杂的集成测试等多种测试场景。

## 2.1. 核心特性

- **注解驱动的测试结构**：通过注解（如 `@Test`、`@BeforeEach`、`@AfterEach`）定义测试方法和测试生命周期，使测试代码更加清晰和结构化。
- **丰富的断言方法**：提供了多种断言方法（如 `assertEquals`、`assertTrue`、`assertNotNull`），用于验证测试结果是否符合预期。
- **测试套件支持**：可以将多个测试类组织成一个测试套件，方便批量执行和管理。
- **参数化测试**：支持参数化测试，允许使用不同的输入数据运行相同的测试逻辑，提高测试覆盖率。
- **与构建工具和 IDE 的集成**：与主流的构建工具（如 Maven、Gradle）和集成开发环境（如 Eclipse、IntelliJ IDEA）无缝集成，支持自动化测试和持续集成。

## 2.2. 发展历程

- **JUnit 3.x**：测试类需要继承 `TestCase` 类，测试方法以 `test` 开头，使用较为繁琐。
- **JUnit 4.x**：引入了注解机制（如 `@Test`），不再需要继承特定类，简化了测试代码的编写。
- **JUnit 5.x（又称 Jupiter）**：采用模块化设计，分为 JUnit Platform、JUnit Jupiter 和 JUnit Vintage 三个子项目，提供了更强大的扩展性和灵活性，支持参数化测试、动态测试等高级特性。

## 2.3. 示例：使用 JUnit 5 编写测试

```
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class CalculatorTest {

    @Test
    void testAddition() {
        Calculator calc = new Calculator();
        assertEquals(5, calc.add(2, 3));
    }
}
```
在这个示例中，`@Test` 注解标识 `testAddition` 方法为测试方法，`assertEquals` 用于断言 `add` 方法的返回值是否为预期值。

## 2.4. 常用注解

- `@Test`：标识一个方法为测试方法。
- `@BeforeEach`：在每个测试方法执行前执行，用于初始化操作。
- `@AfterEach`：在每个测试方法执行后执行，用于清理操作。
- `@BeforeAll`：在所有测试方法执行前执行一次，通常用于初始化共享资源。
- `@AfterAll`：在所有测试方法执行后执行一次，通常用于释放共享资源。
- `@Disabled`：用于禁用某个测试方法或测试类。

## 2.5. 常用断言方法

- `assertEquals(expected, actual)`：断言两个值相等。
- `assertTrue(condition)`：断言条件为真。
- `assertFalse(condition)`：断言条件为假。
- `assertNull(object)`：断言对象为 null。
- `assertNotNull(object)`：断言对象不为 null。
- `assertThrows(expectedType, executable)`：断言执行某个操作时抛出指定类型的异常。